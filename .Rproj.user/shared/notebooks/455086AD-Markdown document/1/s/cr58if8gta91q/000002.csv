"0",""
"0","# The IDACI part had () as part of the name and that was causing a lot of issues so the following piece of code goes through all the column names of the dataframe and removes punctuation and spaces. Hopefully this is something that can be done earlier on, possibly when the files are read in at some point."
"0",""
"0","colnames(ofsted_filtered) <- str_replace_all(colnames(ofsted_filtered),""[:punct:]|[:space:]"","""")"
"0",""
"0","ofsted_filtered <- mutate(ofsted_filtered, prev_out = as.integer(ifelse(Previousfullinspectionoveralleffectiveness == ""NULL"", -1, Previousfullinspectionoveralleffectiveness)))"
"0",""
"0","ofsted_filtered <- mutate(ofsted_filtered, current_out = as.integer(ifelse(Overalleffectiveness == ""NULL"", -1, Overalleffectiveness)))"
"0",""
"0","ofsted_filtered <- mutate(ofsted_filtered, IDACI = as.integer(ifelse(TheincomedeprivationaffectingchildrenindexIDACIquintile == ""NULL"", -1, TheincomedeprivationaffectingchildrenindexIDACIquintile)))"
"0",""
"0","ofsted_filtered <- mutate(ofsted_filtered, num_pupils = as.integer(ifelse(Totalnumberofpupils == ""NULL"", -1, Totalnumberofpupils)))"
"0",""
"0","ofsted_filtered_reg <- filter(ofsted_filtered, prev_out != -1 & current_out != -1 & IDACI != -1 & num_pupils != -1)"
"0",""
"0","ofsted_filtered_reg <- mutate(ofsted_filtered_reg, pos_out = ifelse(current_out - prev_out <= 0,1,0))"
"0",""
